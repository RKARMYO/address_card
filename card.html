<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="author" content="Capt Ar Kar Myo">
	<title>Card</title>
	


	<!-- Font Awesome -->
	<link rel="stylesheet" href="css/all.css">
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="css/mdb.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<!-- Material Design Bootstrap -->
	
	<!-- Our custom styles (optional) -->
	<link rel="stylesheet" href="css/teamcs.css">
	<link rel="icon" href="images/app_icon.png" type="image/gif" sizes="16x16">


	<style>
		.my_card{
			margin-bottom: 20px;
		}
		.no_link{
			text-decoration: none;
		}
		@font-face 
		{
		  font-family: 'Pyidaungsu';
		  src: URL('font/Pyidaungsu.ttf') format('truetype');
		 
		}
		body
		{
			font-family: Pyidaungsu;
		}
		.flex_main
		{
			display: flex;
			flex-wrap: wrap;
			background-color:rgba(0,0,0,0.1);
		}
		.flex_inner
		{
			width: 400px;
			height: auto;
			margin: 10px;
  			text-align: center; 			
  			background:linear-gradient(0.25turn,#3f67,#ebf8,#f63c);  			
		}
		#newcardbtn
		{
			color: white;
			background-color: green;
			border: none;
			border-radius: 7px;
		}
		.modaldiv
		{
			width: 80%;
			height:auto;
			position: absolute;
			z-index: 1000;
			left: 10%;
			top: 15%;
			border-radius: 7px;
			/*background-color: gray;*/
			background:linear-gradient(0.25turn,#3f67a6,#ebf8e1,#f69d3c);
			display: none;
		}
		.innermodaldiv,.innermodaldiv1
		{
			width: 90%;
			height: 40px;
			margin-left: 5%;
			/*background-color: white;*/
		}
		.innermodaldiv1
		{
			margin-top: 10px;
		}
		.modalinner
		{
			width: 50%;
			height: 100%;
			float: left;
		}
		.inputbox
		{
			width: 90%;
			height: 100%;
			padding-left: 10px;
			border-radius: 7px;
		}
		#insert,#close_modal
		{
			height: 100%;
			color: white;
			border: none;
			
			border-radius: 7px;
			border: 1px solid gold;
		}
		#insert
		{
			background:linear-gradient(0.25turn,yellow,green,red);
		}
		#close_modal
		{
			background:linear-gradient(0.25turn,cyan,lime,yellow);
		}
		.resfont
		{
			color:darkblue;
			font-weight: bold;
		}
		.font
		{
			color: blue;
		}
		#flex_hide
		{
			display: none;
		}
		.close_flex,.delete
		{
			border: none;
			border-radius: 7px;
			color: white;
			margin-left: 0%;
		}
		.close_flex
		{
			background-color: blue;
		}
		.delete
		{
			background-color: red;margin-left: 5px;
		}
		.foot
		{
			text-align: center;
			margin-top: 80%;
		}
		table
		{
			text-align: left;
		}
	</style>
</head>

<body class="fixed-sn white-skin">

	<!-- Main Navigation -->
	<header>
		
		<!-- Navbar -->
		<nav class="navbar fixed-top navbar-expand-lg scrolling-navbar double-nav" id="nav_id" style="display: ;">
			<!-- SideNav slide-out button -->
			<div class="float-left"> <a href="#" data-activates="slide-out" class="button-collapse"><i class="fas fa-bars" style="display: none;"></i></a>
			</div>
			<!-- Breadcrumb -->
			<div class="title_text mr-auto align-center text-center">
				<h4 id="header_id">ကိုယ်ရေးဖိုင်</h4>
			</div>
		</nav>
		
	</header>
	<!-- Main Navigation -->

	<!-- Main layout -->
	<main>
		<div class="container-fluid">
			<!-- Section: Intro -->
			<section id="intro_section">
				<div class="newcarddiv"><input type="button" name="newcardbtn" id="newcardbtn" value="အသစ်ထည့်"></div><br>
				<!--=======================flex div===========================-->
				<div class="flex_main">
					
					<div class="flex_inner" style="display: none;">
						
					</div>
				</div>
				<!--=======================End flex div===========================-->

				<!--=======================modal div============================-->
				<div class="modaldiv">
					<span style="color: blue;font-weight: bold;padding-left: 15px;"><br>.    လိပ်စာကဒ်အသစ်ထည့်ရန်</span><hr>
					<div class="innermodaldiv">
						<div class="modalinner">
							<input type="text" id="num" class="inputbox" placeholder="မှတ်ပုံတင်...">
						</div>
						<div class="modalinner">
							<input type="text" id="rank" class="inputbox" placeholder="ရာထူး...">
						</div>
					</div>
					<div class="innermodaldiv1">
						<div class="modalinner">
							<input type="text" id="name" class="inputbox" placeholder="အမည်...">
						</div>
						<div class="modalinner">
							<input type="text" id="unit" class="inputbox" placeholder="ဌာန...">
						</div>
					</div>
					<div class="innermodaldiv1">
						<div class="modalinner">
							<input type="tel" id="phone" class="inputbox" placeholder="ဖုန်းနံပါတ်...">
						</div>
						<div class="modalinner">
							<input type="text" id="address" class="inputbox" placeholder="လိပ်စာ...">
						</div>
					</div>
					<div class="innermodaldiv1">
						<div class="modalinner">
							<input type="email" id="email" class="inputbox" placeholder="Email...">
						</div>
						<div class="modalinner">
							<input type="text" id="note" class="inputbox" placeholder="မှတ်ချက်...">
						</div>
					</div>
					<div class="innermodaldiv1">
						
						<div class="modalinner">
							<input type="button" id="insert" value="သိမ်းမည်">
							<input type="button" id="close_modal" value="ပိတ်မည်">
						</div>
					</div>
				</div>
				<!--=======================End modal div============================-->
			</section>
			<!-- Section: Intro -->
		</div>
	</main>
	<!-- Main layout -->

	<!-- Footer -->
	<footer class="page-footer pt-0 mt-5 rgba-stylish-light">
		<!-- Copyright -->
		<div class="footer-copyright py-3 text-center" style="display: none;">
			<div class="container-fluid">Developed By : <a href="#" target="_blank"> TEAM CS </a>
			</div>
		</div>
		<div class="foot">
			<span>Developed By : TEAM CS</span><br>
			<span>Version 1.0</span>
		</div>
	</footer>
	<!-- Footer -->


	<!-- SCRIPTS -->
	<!-- JQuery -->
	<script src="js/jquery-3.4.1.min.js"></script>
	<!-- Bootstrap tooltips -->
	<script type="text/javascript" src="js/popper.min.js"></script>
	<!-- Bootstrap core JavaScript -->
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<!-- MDB core JavaScript -->
	<!-- <script type="text/javascript" src="js/mdb.min.js"></script> -->

	
	<script src="js/modernizr.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/underscore.min.js"></script>
	<script src="js/backbone.js"></script>


	<!-- Initializations -->
	<script type="text/javascript">
		$(document).ready(function(){ //alert("ok");
			$(document).on("click","#newcardbtn",function(){ //alert("ookk");
				$(".modaldiv").show(); 
			});
			$(document).on("click","#close_modal",function(){ //alert("ookk");
				$(".modaldiv").hide();
			});

			var org=new Array();
			org=localStorage.getItem('localdata');//console.log("length "+org.length);
			var orgdecode=JSON.parse(org);//alert(orgdecode);
			if(orgdecode!=null)
			{
				for(i=0;i<orgdecode.length;i++)
				{
					//console.log(orgdecode[i]['note']);
					$(".flex_main").append("<div class='flex_inner flex_show' id='flex_show'> <table><tr><td class='font'>မှတ်ပုံတင်:</td><td class='resfont'>"+orgdecode[i]['num']+"</td></tr><tr><td class='font'>ရာထူး:</td><td class='resfont'>"+orgdecode[i]['rank']+"</td></tr><tr><td class='font'>အမည်:</td><td class='resfont'>"+orgdecode[i]['name']+"</td></tr></table> </div><div class='flex_inner flex_hide' id='flex_hide'> <table><tr><td class='font'>မှတ်ပုံတင်:</td><td class='resfont'>"+orgdecode[i]['num']+"</td></tr><tr><td class='font'>ရာထူး:</td><td class='resfont'>"+orgdecode[i]['rank']+"</td></tr><tr><td class='font'>အမည်:</td><td class='resfont'>"+orgdecode[i]['name']+"</td></tr><tr><td class='font'>ဌာန :</td><td class='resfont'>"+orgdecode[i]['unit']+"</td></tr><tr><td class='font'>ဖုန်း :</td><td class='resfont'>"+orgdecode[i]['phone']+"</td></tr><tr><td class='font'>လိပ်စာ :</td><td class='resfont'>"+orgdecode[i]['address']+"</td></tr><tr><td class='font'>Email :</td><td class='resfont'>"+orgdecode[i]['email']+"</td></tr><tr><td class='font'>မှတ်ချက် :</td><td class='resfont'>"+orgdecode[i]['note']+"</td></tr></table> <input type='button' class='close_flex' value='ပိတ်'><input type='hidden' value='"+orgdecode[i]['name']+"'><input type='hidden' value='"+orgdecode[i]['phone']+"'><input type='button' class='delete' value='ဖျက်'></div>");
				}
			}


			$(document).on("click","#insert",function(){ //alert("insert ok");

				var org=new Array();
				org=JSON.parse(localStorage.getItem('localdata'));//console.log("length "+org.length);

				var num=$("#num").val();
				var rank=$("#rank").val();
				var name=$("#name").val();
				var unit=$("#unit").val();
				var phone=$("#phone").val();
				var address=$("#address").val();
				var email=$("#email").val();
				var note=$("#note").val();
				var arr=new Array();
				arr=[{num,rank,name,unit,phone,address,email,note}];//alert(arr);

				

				localStorage.setItem("localdata",JSON.stringify(arr));
				var decode=JSON.parse(localStorage.localdata);console.log(decode[0]['num']);
				

				$(".flex_main").append("<div class='flex_inner flex_show' id='flex_show'> <table><tr><td class='font'>မှတ်ပုံတင်:</td><td class='resfont'>"+decode[0]['num']+"</td></tr><tr><td class='font'>ရာထူး:</td><td class='resfont'>"+decode[0]['rank']+"</td></tr><tr><td class='font'>အမည်:</td><td class='resfont'>"+decode[0]['name']+"</td></tr></table> </div><div class='flex_inner flex_hide' id='flex_hide'> <table><tr><td class='font'>မှတ်ပုံတင်:</td><td class='resfont'>"+decode[0]['num']+"</td></tr><tr><td class='font'>ရာထူး:</td><td class='resfont'>"+decode[0]['rank']+"</td></tr><tr><td class='font'>အမည်:</td><td class='resfont'>"+decode[0]['name']+"</td></tr><tr><td class='font'>ဌာန :</td><td class='resfont'>"+decode[0]['unit']+"</td></tr><tr><td class='font'>ဖုန်း :</td><td class='resfont'>"+decode[0]['phone']+"</td></tr><tr><td class='font'>လိပ်စာ :</td><td class='resfont'>"+decode[0]['address']+"</td></tr><tr><td class='font'>Email :</td><td class='resfont'>"+decode[0]['email']+"</td></tr><tr><td class='font'>မှတ်ချက် :</td><td class='resfont'>"+decode[0]['note']+"</td></tr></table> <input type='button' class='close_flex' value='ပိတ်'><input type='hidden' value='"+decode[0]['name']+"'><input type='hidden' value='"+decode[0]['phone']+"'><input type='button' class='delete' value='ဖျက်'></div>");
				if(org===null)
				{
					localStorage.setItem("localdata",JSON.stringify(arr));
				}
				else
				{
					var all=org.concat(arr);
					localStorage.setItem("localdata",JSON.stringify(all));
				}
				
				$(".modaldiv").hide();
				$(".inputbox").val("");
			});
			$(document).on("click",".flex_show",function(){ //alert("Ok oK");
				$(this).next().show();
				$(this).hide();
			});
			$(document).on("click",".close_flex",function(){ //alert("Ok oK");
				$(this).parent().prev().show();
				$(this).parent().hide();
			});
			//=====================delete=================
			$(document).on("click",".delete",function(){ console.log("delete btn ok");
				var name=$(this).prev().prev().val();console.log("delete name: "+name);
				var phone=$(this).prev().val();console.log("delete phone: "+phone);

				var indexid="";
				var org=new Array();
				org=localStorage.getItem('localdata');//console.log("length "+org.length);
				var orgdecode=JSON.parse(org);
				for(i=0;i<orgdecode.length;i++)
				{
					if(orgdecode[i]['name']==name && orgdecode[i]['phone']==phone)
					{
						indexid=i;
					}
				}
				console.log("delete indexid is :"+indexid);
				orgdecode.splice(indexid,1);
				localStorage.setItem("localdata",JSON.stringify(orgdecode));
				$(this).parent().hide();
				$(this).parent().prev().hide();
			});
			
		});
			//test
			var a=new Array();
			a=["a","b","c"];
			delete(a[1]);console.log("delete "+a);console.log(a[2]);
	</script>
	<!-- Our JavaScript -->
	
</body>
</html>